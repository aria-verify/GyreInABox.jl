<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · GyreInABox.jl</title><meta name="title" content="Home · GyreInABox.jl"/><meta property="og:title" content="Home · GyreInABox.jl"/><meta property="twitter:title" content="Home · GyreInABox.jl"/><meta name="description" content="Documentation for GyreInABox.jl."/><meta property="og:description" content="Documentation for GyreInABox.jl."/><meta property="twitter:description" content="Documentation for GyreInABox.jl."/><meta property="og:url" content="https://aria-verify.github.io/GyreInABox.jl/"/><meta property="twitter:url" content="https://aria-verify.github.io/GyreInABox.jl/"/><link rel="canonical" href="https://aria-verify.github.io/GyreInABox.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>GyreInABox.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Model-details"><span>Model details</span></a></li><li><a class="tocitem" href="#Usage-example"><span>Usage example</span></a></li><li><a class="tocitem" href="#API-reference"><span>API reference</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/aria-verify/GyreInABox.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/aria-verify/GyreInABox.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="GyreInABox"><a class="docs-heading-anchor" href="#GyreInABox">GyreInABox</a><a id="GyreInABox-1"></a><a class="docs-heading-anchor-permalink" href="#GyreInABox" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/aria-verify/GyreInABox.jl">GyreInABox</a>.</p><h2 id="Model-details"><a class="docs-heading-anchor" href="#Model-details">Model details</a><a id="Model-details-1"></a><a class="docs-heading-anchor-permalink" href="#Model-details" title="Permalink"></a></h2><p>The model is an adaptation of the <a href="https://mitgcm.readthedocs.io/en/latest/examples/baroclinic_gyre/baroclinic_gyre.html">baroclinic gyre example</a> from the MITgcm documentation. It simulates a wind and buoyancy forced double-gyre ocean circulation on a spherical shell sector spatial domain, with default domain extents <span>$(0^\circ, 60^\circ) \times (15^\circ, 75^\circ) \times (-1800\textsf{m}, 0\textsf{m})$</span> (longitude × latitude × depth dimensions).</p><p>By default a non-linear <a href="https://clima.github.io/SeawaterPolynomials.jl/stable/#The-TEOS-10-standard">TEOS-10 polynomial equation of state</a> is used to compute buoyancy from salinity and temperature fields. No slip / no-flux boundary conditions are applied to the velocity fields on all walls, and a boundary condition corresponding to a damping zonal drag on the bottom surface. The zonal velocity component is subject to a latitude dependent wind stress roughly reflecting average zonal wind patterns at the surface. The temperature and salinity fields have no-flux boundary conditions applied on all walls and the bottom surface, and relaxation boundary conditions on the top surface which restore the surface fields towards a latitude dependent reference temperature / salinity with a parameterized relaxation time. The surface wind stress, reference temperature and reference salinity as a function of latitude are shown in the figure below.</p><p><img src="surface_forcings.svg" alt="Surface forcings for model"/></p><p>The model is initialised from rest (zero velocity). The temperature and salinity fields are initialised to match the reference temperature and salinity at the surface and following smoothly varying thermocline / halocline like profiles with depth, and constant in longitude, as shown in the figure below.</p><p><img src="initial_temperature_and_salinity.svg" alt="Initial temperature and salinity fields for model"/></p><h2 id="Usage-example"><a class="docs-heading-anchor" href="#Usage-example">Usage example</a><a id="Usage-example-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-example" title="Permalink"></a></h2><p>The below example illustrates setting up and running a simulation of the model with the default parameter values and configuration modulo changing the model to record only a horizontal (surface) slice and depth slice along longitude axis as outputs. The resulting horizontal and depth slices of simulated fields are recorded as an animation using CairoMakie. A coarse default grid size (60 × 60 × 15) and small simulation time (60 days) are set so as to allow a simulation to run in around 5 minutes on a CPU, but if running on a GPU (controlled by <code>architecture</code> keyword argument to <code>GyreInABoxConfiguration</code>) then finer spatial discretizations and longer simulation times can easily be used.</p><pre><code class="language-julia hljs">using Oceananigans.Units
using GyreInABox

parameters = GyreInABoxParameters()
output_types = (LongitudeDepthSlice(), HorizontalSlice())
configuration = GyreInABoxConfiguration(output_types=output_types)
run_simulation(parameters, configuration)
for output_type in output_types
    record_animation(configuration, output_type)
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr36"><span class="sgr1">[ Info: </span></span>Initializing simulation...
Iteration: 0000, time: 0 seconds, Δt: 15 minutes, wall time: 0 seconds
  max(|u|) = 0.00e+00 m s⁻¹, max(|v|) = 0.00e+00 m s⁻¹, max(|w|) = 0.00e+00 m s⁻¹, max(|T|) = 2.73e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 0.00e+00 m² s⁻²
<span class="sgr36"><span class="sgr1">[ Info: </span></span>    ... simulation initialization complete (47.332 seconds)
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Executing initial time step...
<span class="sgr36"><span class="sgr1">[ Info: </span></span>    ... initial time step complete (28.706 seconds).
Iteration: 0040, time: 16.250 hours, Δt: 30 minutes, wall time: 1.343 minutes
  max(|u|) = 7.08e-01 m s⁻¹, max(|v|) = 4.47e-01 m s⁻¹, max(|w|) = 2.65e-03 m s⁻¹, max(|T|) = 2.74e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 4.73e-04 m² s⁻²
Iteration: 0080, time: 1.500 days, Δt: 30 minutes, wall time: 1.391 minutes
  max(|u|) = 2.57e-01 m s⁻¹, max(|v|) = 5.94e-01 m s⁻¹, max(|w|) = 1.42e-03 m s⁻¹, max(|T|) = 2.74e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 4.65e-04 m² s⁻²
Iteration: 0120, time: 2.333 days, Δt: 30 minutes, wall time: 1.439 minutes
  max(|u|) = 7.38e-01 m s⁻¹, max(|v|) = 6.70e-01 m s⁻¹, max(|w|) = 2.65e-03 m s⁻¹, max(|T|) = 2.74e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 4.35e-04 m² s⁻²
Iteration: 0160, time: 3.167 days, Δt: 30 minutes, wall time: 1.487 minutes
  max(|u|) = 4.89e-01 m s⁻¹, max(|v|) = 8.55e-01 m s⁻¹, max(|w|) = 4.12e-03 m s⁻¹, max(|T|) = 2.74e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 4.51e-04 m² s⁻²
Iteration: 0200, time: 4 days, Δt: 30 minutes, wall time: 1.535 minutes
  max(|u|) = 6.70e-01 m s⁻¹, max(|v|) = 1.08e+00 m s⁻¹, max(|w|) = 3.87e-03 m s⁻¹, max(|T|) = 2.74e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 4.57e-04 m² s⁻²
Iteration: 0240, time: 4.833 days, Δt: 30 minutes, wall time: 1.583 minutes
  max(|u|) = 6.99e-01 m s⁻¹, max(|v|) = 1.32e+00 m s⁻¹, max(|w|) = 5.82e-03 m s⁻¹, max(|T|) = 2.74e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 8.74e-04 m² s⁻²
Iteration: 0280, time: 5.667 days, Δt: 30 minutes, wall time: 1.631 minutes
  max(|u|) = 5.82e-01 m s⁻¹, max(|v|) = 1.42e+00 m s⁻¹, max(|w|) = 6.91e-03 m s⁻¹, max(|T|) = 2.74e+01 °C, max(|S|) = 3.79e+01 g kg⁻¹, max(|e|) = 7.27e-03 m² s⁻²
Iteration: 0320, time: 6.500 days, Δt: 30 minutes, wall time: 1.679 minutes
  max(|u|) = 8.38e-01 m s⁻¹, max(|v|) = 1.60e+00 m s⁻¹, max(|w|) = 5.36e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 7.16e-03 m² s⁻²
Iteration: 0360, time: 7.333 days, Δt: 30 minutes, wall time: 1.728 minutes
  max(|u|) = 7.18e-01 m s⁻¹, max(|v|) = 1.63e+00 m s⁻¹, max(|w|) = 4.84e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 3.51e-03 m² s⁻²
Iteration: 0400, time: 8.167 days, Δt: 30 minutes, wall time: 1.776 minutes
  max(|u|) = 8.67e-01 m s⁻¹, max(|v|) = 1.62e+00 m s⁻¹, max(|w|) = 2.81e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 2.42e-03 m² s⁻²
Iteration: 0440, time: 9 days, Δt: 30 minutes, wall time: 1.824 minutes
  max(|u|) = 8.68e-01 m s⁻¹, max(|v|) = 1.56e+00 m s⁻¹, max(|w|) = 2.68e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 2.38e-03 m² s⁻²
Iteration: 0480, time: 9.833 days, Δt: 30 minutes, wall time: 1.872 minutes
  max(|u|) = 8.35e-01 m s⁻¹, max(|v|) = 1.65e+00 m s⁻¹, max(|w|) = 3.39e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 4.74e-03 m² s⁻²
Iteration: 0520, time: 10.667 days, Δt: 30 minutes, wall time: 1.920 minutes
  max(|u|) = 9.81e-01 m s⁻¹, max(|v|) = 1.81e+00 m s⁻¹, max(|w|) = 3.59e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 5.10e-03 m² s⁻²
Iteration: 0560, time: 11.500 days, Δt: 30 minutes, wall time: 1.968 minutes
  max(|u|) = 8.18e-01 m s⁻¹, max(|v|) = 1.88e+00 m s⁻¹, max(|w|) = 4.11e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 6.00e-03 m² s⁻²
Iteration: 0600, time: 12.333 days, Δt: 30 minutes, wall time: 2.017 minutes
  max(|u|) = 1.04e+00 m s⁻¹, max(|v|) = 1.96e+00 m s⁻¹, max(|w|) = 4.18e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 5.94e-03 m² s⁻²
Iteration: 0640, time: 13.167 days, Δt: 30 minutes, wall time: 2.065 minutes
  max(|u|) = 8.96e-01 m s⁻¹, max(|v|) = 2.07e+00 m s⁻¹, max(|w|) = 4.19e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 6.41e-03 m² s⁻²
Iteration: 0680, time: 14 days, Δt: 30 minutes, wall time: 2.114 minutes
  max(|u|) = 1.04e+00 m s⁻¹, max(|v|) = 2.13e+00 m s⁻¹, max(|w|) = 3.68e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.80e+01 g kg⁻¹, max(|e|) = 6.09e-03 m² s⁻²
Iteration: 0720, time: 14.833 days, Δt: 30 minutes, wall time: 2.162 minutes
  max(|u|) = 1.01e+00 m s⁻¹, max(|v|) = 2.21e+00 m s⁻¹, max(|w|) = 3.88e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.81e+01 g kg⁻¹, max(|e|) = 6.25e-03 m² s⁻²
Iteration: 0760, time: 15.667 days, Δt: 30 minutes, wall time: 2.210 minutes
  max(|u|) = 1.07e+00 m s⁻¹, max(|v|) = 2.28e+00 m s⁻¹, max(|w|) = 3.88e-03 m s⁻¹, max(|T|) = 2.75e+01 °C, max(|S|) = 3.81e+01 g kg⁻¹, max(|e|) = 5.09e-03 m² s⁻²
Iteration: 0800, time: 16.500 days, Δt: 30 minutes, wall time: 2.258 minutes
  max(|u|) = 1.05e+00 m s⁻¹, max(|v|) = 2.30e+00 m s⁻¹, max(|w|) = 3.34e-03 m s⁻¹, max(|T|) = 2.82e+01 °C, max(|S|) = 3.81e+01 g kg⁻¹, max(|e|) = 5.44e-03 m² s⁻²
Iteration: 0840, time: 17.333 days, Δt: 30 minutes, wall time: 2.306 minutes
  max(|u|) = 1.15e+00 m s⁻¹, max(|v|) = 2.36e+00 m s⁻¹, max(|w|) = 4.00e-03 m s⁻¹, max(|T|) = 2.90e+01 °C, max(|S|) = 3.82e+01 g kg⁻¹, max(|e|) = 5.06e-03 m² s⁻²
Iteration: 0880, time: 18.167 days, Δt: 30 minutes, wall time: 2.354 minutes
  max(|u|) = 1.06e+00 m s⁻¹, max(|v|) = 2.17e+00 m s⁻¹, max(|w|) = 4.09e-03 m s⁻¹, max(|T|) = 2.91e+01 °C, max(|S|) = 3.82e+01 g kg⁻¹, max(|e|) = 5.44e-03 m² s⁻²
Iteration: 0920, time: 19 days, Δt: 30 minutes, wall time: 2.402 minutes
  max(|u|) = 1.20e+00 m s⁻¹, max(|v|) = 2.17e+00 m s⁻¹, max(|w|) = 3.73e-03 m s⁻¹, max(|T|) = 2.90e+01 °C, max(|S|) = 3.82e+01 g kg⁻¹, max(|e|) = 4.81e-03 m² s⁻²
Iteration: 0960, time: 19.833 days, Δt: 30 minutes, wall time: 2.451 minutes
  max(|u|) = 1.10e+00 m s⁻¹, max(|v|) = 2.30e+00 m s⁻¹, max(|w|) = 2.87e-03 m s⁻¹, max(|T|) = 3.07e+01 °C, max(|S|) = 3.83e+01 g kg⁻¹, max(|e|) = 7.09e-03 m² s⁻²
Iteration: 1000, time: 20.667 days, Δt: 30 minutes, wall time: 2.499 minutes
  max(|u|) = 1.20e+00 m s⁻¹, max(|v|) = 2.28e+00 m s⁻¹, max(|w|) = 3.43e-03 m s⁻¹, max(|T|) = 2.98e+01 °C, max(|S|) = 3.83e+01 g kg⁻¹, max(|e|) = 6.93e-03 m² s⁻²
Iteration: 1040, time: 21.500 days, Δt: 30 minutes, wall time: 2.547 minutes
  max(|u|) = 1.17e+00 m s⁻¹, max(|v|) = 2.24e+00 m s⁻¹, max(|w|) = 2.99e-03 m s⁻¹, max(|T|) = 3.12e+01 °C, max(|S|) = 3.84e+01 g kg⁻¹, max(|e|) = 6.99e-03 m² s⁻²
Iteration: 1080, time: 22.333 days, Δt: 30 minutes, wall time: 2.595 minutes
  max(|u|) = 1.18e+00 m s⁻¹, max(|v|) = 2.27e+00 m s⁻¹, max(|w|) = 2.64e-03 m s⁻¹, max(|T|) = 3.09e+01 °C, max(|S|) = 3.85e+01 g kg⁻¹, max(|e|) = 6.57e-03 m² s⁻²
Iteration: 1120, time: 23.167 days, Δt: 30 minutes, wall time: 2.643 minutes
  max(|u|) = 1.21e+00 m s⁻¹, max(|v|) = 2.21e+00 m s⁻¹, max(|w|) = 2.82e-03 m s⁻¹, max(|T|) = 3.21e+01 °C, max(|S|) = 3.87e+01 g kg⁻¹, max(|e|) = 9.30e-03 m² s⁻²
Iteration: 1160, time: 24 days, Δt: 30 minutes, wall time: 2.692 minutes
  max(|u|) = 1.36e+00 m s⁻¹, max(|v|) = 2.32e+00 m s⁻¹, max(|w|) = 3.35e-03 m s⁻¹, max(|T|) = 3.11e+01 °C, max(|S|) = 3.86e+01 g kg⁻¹, max(|e|) = 8.46e-03 m² s⁻²
Iteration: 1200, time: 24.833 days, Δt: 30 minutes, wall time: 2.740 minutes
  max(|u|) = 1.57e+00 m s⁻¹, max(|v|) = 2.25e+00 m s⁻¹, max(|w|) = 3.71e-03 m s⁻¹, max(|T|) = 3.31e+01 °C, max(|S|) = 3.89e+01 g kg⁻¹, max(|e|) = 6.99e-03 m² s⁻²
Iteration: 1240, time: 25.667 days, Δt: 30 minutes, wall time: 2.788 minutes
  max(|u|) = 1.63e+00 m s⁻¹, max(|v|) = 2.38e+00 m s⁻¹, max(|w|) = 4.19e-03 m s⁻¹, max(|T|) = 3.17e+01 °C, max(|S|) = 3.89e+01 g kg⁻¹, max(|e|) = 6.75e-03 m² s⁻²
Iteration: 1280, time: 26.500 days, Δt: 30 minutes, wall time: 2.836 minutes
  max(|u|) = 1.78e+00 m s⁻¹, max(|v|) = 2.43e+00 m s⁻¹, max(|w|) = 4.42e-03 m s⁻¹, max(|T|) = 3.36e+01 °C, max(|S|) = 3.88e+01 g kg⁻¹, max(|e|) = 6.51e-03 m² s⁻²
Iteration: 1320, time: 27.333 days, Δt: 30 minutes, wall time: 2.884 minutes
  max(|u|) = 1.96e+00 m s⁻¹, max(|v|) = 2.36e+00 m s⁻¹, max(|w|) = 4.74e-03 m s⁻¹, max(|T|) = 3.44e+01 °C, max(|S|) = 3.89e+01 g kg⁻¹, max(|e|) = 9.42e-03 m² s⁻²
Iteration: 1360, time: 28.167 days, Δt: 30 minutes, wall time: 2.932 minutes
  max(|u|) = 2.10e+00 m s⁻¹, max(|v|) = 2.41e+00 m s⁻¹, max(|w|) = 5.62e-03 m s⁻¹, max(|T|) = 3.29e+01 °C, max(|S|) = 3.88e+01 g kg⁻¹, max(|e|) = 9.67e-03 m² s⁻²
Iteration: 1400, time: 29 days, Δt: 30 minutes, wall time: 2.980 minutes
  max(|u|) = 1.83e+00 m s⁻¹, max(|v|) = 2.49e+00 m s⁻¹, max(|w|) = 6.55e-03 m s⁻¹, max(|T|) = 3.55e+01 °C, max(|S|) = 3.90e+01 g kg⁻¹, max(|e|) = 9.11e-03 m² s⁻²
Iteration: 1440, time: 29.833 days, Δt: 30 minutes, wall time: 3.029 minutes
  max(|u|) = 1.93e+00 m s⁻¹, max(|v|) = 2.55e+00 m s⁻¹, max(|w|) = 6.45e-03 m s⁻¹, max(|T|) = 3.72e+01 °C, max(|S|) = 3.92e+01 g kg⁻¹, max(|e|) = 8.24e-03 m² s⁻²
Iteration: 1480, time: 30.667 days, Δt: 30 minutes, wall time: 3.077 minutes
  max(|u|) = 1.74e+00 m s⁻¹, max(|v|) = 2.66e+00 m s⁻¹, max(|w|) = 6.12e-03 m s⁻¹, max(|T|) = 3.73e+01 °C, max(|S|) = 3.95e+01 g kg⁻¹, max(|e|) = 7.89e-03 m² s⁻²
Iteration: 1520, time: 31.500 days, Δt: 30 minutes, wall time: 3.125 minutes
  max(|u|) = 1.88e+00 m s⁻¹, max(|v|) = 2.76e+00 m s⁻¹, max(|w|) = 6.01e-03 m s⁻¹, max(|T|) = 3.63e+01 °C, max(|S|) = 3.98e+01 g kg⁻¹, max(|e|) = 5.26e-03 m² s⁻²
Iteration: 1560, time: 32.333 days, Δt: 30 minutes, wall time: 3.173 minutes
  max(|u|) = 2.19e+00 m s⁻¹, max(|v|) = 2.90e+00 m s⁻¹, max(|w|) = 5.11e-03 m s⁻¹, max(|T|) = 3.58e+01 °C, max(|S|) = 3.96e+01 g kg⁻¹, max(|e|) = 5.48e-03 m² s⁻²
Iteration: 1600, time: 33.167 days, Δt: 30 minutes, wall time: 3.222 minutes
  max(|u|) = 2.48e+00 m s⁻¹, max(|v|) = 2.98e+00 m s⁻¹, max(|w|) = 4.76e-03 m s⁻¹, max(|T|) = 3.88e+01 °C, max(|S|) = 3.96e+01 g kg⁻¹, max(|e|) = 5.17e-03 m² s⁻²
Iteration: 1640, time: 34 days, Δt: 30 minutes, wall time: 3.270 minutes
  max(|u|) = 2.60e+00 m s⁻¹, max(|v|) = 3.00e+00 m s⁻¹, max(|w|) = 3.26e-03 m s⁻¹, max(|T|) = 4.07e+01 °C, max(|S|) = 4.01e+01 g kg⁻¹, max(|e|) = 5.66e-03 m² s⁻²
Iteration: 1680, time: 34.833 days, Δt: 30 minutes, wall time: 3.319 minutes
  max(|u|) = 2.63e+00 m s⁻¹, max(|v|) = 2.95e+00 m s⁻¹, max(|w|) = 3.02e-03 m s⁻¹, max(|T|) = 4.18e+01 °C, max(|S|) = 4.10e+01 g kg⁻¹, max(|e|) = 5.02e-03 m² s⁻²
Iteration: 1720, time: 35.667 days, Δt: 30 minutes, wall time: 3.367 minutes
  max(|u|) = 2.75e+00 m s⁻¹, max(|v|) = 2.85e+00 m s⁻¹, max(|w|) = 3.31e-03 m s⁻¹, max(|T|) = 4.19e+01 °C, max(|S|) = 4.18e+01 g kg⁻¹, max(|e|) = 5.50e-03 m² s⁻²
Iteration: 1760, time: 36.500 days, Δt: 30 minutes, wall time: 3.415 minutes
  max(|u|) = 2.50e+00 m s⁻¹, max(|v|) = 2.71e+00 m s⁻¹, max(|w|) = 3.46e-03 m s⁻¹, max(|T|) = 4.07e+01 °C, max(|S|) = 4.21e+01 g kg⁻¹, max(|e|) = 6.14e-03 m² s⁻²
Iteration: 1800, time: 37.333 days, Δt: 30 minutes, wall time: 3.464 minutes
  max(|u|) = 2.49e+00 m s⁻¹, max(|v|) = 2.58e+00 m s⁻¹, max(|w|) = 3.76e-03 m s⁻¹, max(|T|) = 3.83e+01 °C, max(|S|) = 4.20e+01 g kg⁻¹, max(|e|) = 7.94e-03 m² s⁻²
Iteration: 1840, time: 38.167 days, Δt: 30 minutes, wall time: 3.512 minutes
  max(|u|) = 2.61e+00 m s⁻¹, max(|v|) = 2.44e+00 m s⁻¹, max(|w|) = 4.33e-03 m s⁻¹, max(|T|) = 3.69e+01 °C, max(|S|) = 4.11e+01 g kg⁻¹, max(|e|) = 8.09e-03 m² s⁻²
Iteration: 1880, time: 39 days, Δt: 30 minutes, wall time: 3.560 minutes
  max(|u|) = 2.52e+00 m s⁻¹, max(|v|) = 2.49e+00 m s⁻¹, max(|w|) = 3.66e-03 m s⁻¹, max(|T|) = 3.74e+01 °C, max(|S|) = 4.09e+01 g kg⁻¹, max(|e|) = 8.55e-03 m² s⁻²
Iteration: 1920, time: 39.833 days, Δt: 30 minutes, wall time: 3.609 minutes
  max(|u|) = 2.67e+00 m s⁻¹, max(|v|) = 2.49e+00 m s⁻¹, max(|w|) = 4.18e-03 m s⁻¹, max(|T|) = 3.74e+01 °C, max(|S|) = 4.09e+01 g kg⁻¹, max(|e|) = 8.33e-03 m² s⁻²
Iteration: 1960, time: 40.667 days, Δt: 30 minutes, wall time: 3.657 minutes
  max(|u|) = 2.44e+00 m s⁻¹, max(|v|) = 2.43e+00 m s⁻¹, max(|w|) = 3.37e-03 m s⁻¹, max(|T|) = 3.62e+01 °C, max(|S|) = 3.99e+01 g kg⁻¹, max(|e|) = 8.21e-03 m² s⁻²
Iteration: 2000, time: 41.500 days, Δt: 30 minutes, wall time: 3.705 minutes
  max(|u|) = 2.13e+00 m s⁻¹, max(|v|) = 2.32e+00 m s⁻¹, max(|w|) = 2.93e-03 m s⁻¹, max(|T|) = 3.62e+01 °C, max(|S|) = 4.03e+01 g kg⁻¹, max(|e|) = 6.30e-03 m² s⁻²
Iteration: 2040, time: 42.333 days, Δt: 30 minutes, wall time: 3.754 minutes
  max(|u|) = 2.09e+00 m s⁻¹, max(|v|) = 2.21e+00 m s⁻¹, max(|w|) = 2.84e-03 m s⁻¹, max(|T|) = 3.75e+01 °C, max(|S|) = 4.07e+01 g kg⁻¹, max(|e|) = 6.49e-03 m² s⁻²
Iteration: 2080, time: 43.167 days, Δt: 30 minutes, wall time: 3.802 minutes
  max(|u|) = 1.99e+00 m s⁻¹, max(|v|) = 2.16e+00 m s⁻¹, max(|w|) = 2.61e-03 m s⁻¹, max(|T|) = 3.61e+01 °C, max(|S|) = 4.03e+01 g kg⁻¹, max(|e|) = 4.94e-03 m² s⁻²
Iteration: 2120, time: 44 days, Δt: 30 minutes, wall time: 3.850 minutes
  max(|u|) = 2.23e+00 m s⁻¹, max(|v|) = 2.10e+00 m s⁻¹, max(|w|) = 2.68e-03 m s⁻¹, max(|T|) = 3.60e+01 °C, max(|S|) = 3.98e+01 g kg⁻¹, max(|e|) = 6.32e-03 m² s⁻²
Iteration: 2160, time: 44.833 days, Δt: 30 minutes, wall time: 3.899 minutes
  max(|u|) = 2.01e+00 m s⁻¹, max(|v|) = 2.16e+00 m s⁻¹, max(|w|) = 3.03e-03 m s⁻¹, max(|T|) = 3.53e+01 °C, max(|S|) = 3.96e+01 g kg⁻¹, max(|e|) = 6.51e-03 m² s⁻²
Iteration: 2200, time: 45.667 days, Δt: 30 minutes, wall time: 3.947 minutes
  max(|u|) = 2.03e+00 m s⁻¹, max(|v|) = 2.17e+00 m s⁻¹, max(|w|) = 2.82e-03 m s⁻¹, max(|T|) = 3.42e+01 °C, max(|S|) = 3.96e+01 g kg⁻¹, max(|e|) = 6.09e-03 m² s⁻²
Iteration: 2240, time: 46.500 days, Δt: 30 minutes, wall time: 3.995 minutes
  max(|u|) = 1.98e+00 m s⁻¹, max(|v|) = 2.20e+00 m s⁻¹, max(|w|) = 3.18e-03 m s⁻¹, max(|T|) = 3.33e+01 °C, max(|S|) = 3.99e+01 g kg⁻¹, max(|e|) = 6.92e-03 m² s⁻²
Iteration: 2280, time: 47.333 days, Δt: 30 minutes, wall time: 4.044 minutes
  max(|u|) = 2.05e+00 m s⁻¹, max(|v|) = 2.20e+00 m s⁻¹, max(|w|) = 3.18e-03 m s⁻¹, max(|T|) = 3.29e+01 °C, max(|S|) = 4.03e+01 g kg⁻¹, max(|e|) = 7.48e-03 m² s⁻²
Iteration: 2320, time: 48.167 days, Δt: 30 minutes, wall time: 4.092 minutes
  max(|u|) = 1.86e+00 m s⁻¹, max(|v|) = 2.20e+00 m s⁻¹, max(|w|) = 3.87e-03 m s⁻¹, max(|T|) = 3.22e+01 °C, max(|S|) = 4.04e+01 g kg⁻¹, max(|e|) = 8.24e-03 m² s⁻²
Iteration: 2360, time: 49 days, Δt: 30 minutes, wall time: 4.141 minutes
  max(|u|) = 1.79e+00 m s⁻¹, max(|v|) = 2.19e+00 m s⁻¹, max(|w|) = 4.07e-03 m s⁻¹, max(|T|) = 3.20e+01 °C, max(|S|) = 4.02e+01 g kg⁻¹, max(|e|) = 6.49e-03 m² s⁻²
Iteration: 2400, time: 49.833 days, Δt: 30 minutes, wall time: 4.189 minutes
  max(|u|) = 1.61e+00 m s⁻¹, max(|v|) = 2.20e+00 m s⁻¹, max(|w|) = 3.64e-03 m s⁻¹, max(|T|) = 3.17e+01 °C, max(|S|) = 3.99e+01 g kg⁻¹, max(|e|) = 4.25e-03 m² s⁻²
Iteration: 2440, time: 50.667 days, Δt: 30 minutes, wall time: 4.238 minutes
  max(|u|) = 1.63e+00 m s⁻¹, max(|v|) = 2.17e+00 m s⁻¹, max(|w|) = 3.17e-03 m s⁻¹, max(|T|) = 3.13e+01 °C, max(|S|) = 3.99e+01 g kg⁻¹, max(|e|) = 3.12e-03 m² s⁻²
Iteration: 2480, time: 51.500 days, Δt: 30 minutes, wall time: 4.286 minutes
  max(|u|) = 1.60e+00 m s⁻¹, max(|v|) = 2.14e+00 m s⁻¹, max(|w|) = 2.70e-03 m s⁻¹, max(|T|) = 3.15e+01 °C, max(|S|) = 4.03e+01 g kg⁻¹, max(|e|) = 3.66e-03 m² s⁻²
Iteration: 2520, time: 52.333 days, Δt: 30 minutes, wall time: 4.335 minutes
  max(|u|) = 1.58e+00 m s⁻¹, max(|v|) = 2.14e+00 m s⁻¹, max(|w|) = 3.11e-03 m s⁻¹, max(|T|) = 3.19e+01 °C, max(|S|) = 4.13e+01 g kg⁻¹, max(|e|) = 5.48e-03 m² s⁻²
Iteration: 2560, time: 53.167 days, Δt: 30 minutes, wall time: 4.383 minutes
  max(|u|) = 1.56e+00 m s⁻¹, max(|v|) = 2.16e+00 m s⁻¹, max(|w|) = 3.28e-03 m s⁻¹, max(|T|) = 3.20e+01 °C, max(|S|) = 4.16e+01 g kg⁻¹, max(|e|) = 3.37e-03 m² s⁻²
Iteration: 2600, time: 54 days, Δt: 30 minutes, wall time: 4.431 minutes
  max(|u|) = 1.58e+00 m s⁻¹, max(|v|) = 2.13e+00 m s⁻¹, max(|w|) = 2.68e-03 m s⁻¹, max(|T|) = 3.21e+01 °C, max(|S|) = 3.99e+01 g kg⁻¹, max(|e|) = 7.94e-03 m² s⁻²
Iteration: 2640, time: 54.833 days, Δt: 30 minutes, wall time: 4.480 minutes
  max(|u|) = 1.59e+00 m s⁻¹, max(|v|) = 2.13e+00 m s⁻¹, max(|w|) = 2.13e-03 m s⁻¹, max(|T|) = 3.18e+01 °C, max(|S|) = 4.02e+01 g kg⁻¹, max(|e|) = 3.11e-03 m² s⁻²
Iteration: 2680, time: 55.667 days, Δt: 30 minutes, wall time: 4.529 minutes
  max(|u|) = 1.67e+00 m s⁻¹, max(|v|) = 2.16e+00 m s⁻¹, max(|w|) = 2.31e-03 m s⁻¹, max(|T|) = 3.12e+01 °C, max(|S|) = 4.02e+01 g kg⁻¹, max(|e|) = 2.92e-03 m² s⁻²
Iteration: 2720, time: 56.500 days, Δt: 30 minutes, wall time: 4.577 minutes
  max(|u|) = 1.73e+00 m s⁻¹, max(|v|) = 2.25e+00 m s⁻¹, max(|w|) = 2.67e-03 m s⁻¹, max(|T|) = 3.06e+01 °C, max(|S|) = 4.01e+01 g kg⁻¹, max(|e|) = 2.64e-03 m² s⁻²
Iteration: 2760, time: 57.333 days, Δt: 30 minutes, wall time: 4.626 minutes
  max(|u|) = 1.77e+00 m s⁻¹, max(|v|) = 2.11e+00 m s⁻¹, max(|w|) = 2.56e-03 m s⁻¹, max(|T|) = 3.09e+01 °C, max(|S|) = 4.01e+01 g kg⁻¹, max(|e|) = 3.59e-03 m² s⁻²
Iteration: 2800, time: 58.167 days, Δt: 30 minutes, wall time: 4.674 minutes
  max(|u|) = 1.80e+00 m s⁻¹, max(|v|) = 2.10e+00 m s⁻¹, max(|w|) = 2.46e-03 m s⁻¹, max(|T|) = 3.00e+01 °C, max(|S|) = 3.99e+01 g kg⁻¹, max(|e|) = 3.66e-03 m² s⁻²
Iteration: 2840, time: 59 days, Δt: 30 minutes, wall time: 4.722 minutes
  max(|u|) = 1.81e+00 m s⁻¹, max(|v|) = 2.11e+00 m s⁻¹, max(|w|) = 2.24e-03 m s⁻¹, max(|T|) = 2.93e+01 °C, max(|S|) = 3.97e+01 g kg⁻¹, max(|e|) = 3.10e-03 m² s⁻²
Iteration: 2880, time: 59.833 days, Δt: 30 minutes, wall time: 4.771 minutes
  max(|u|) = 1.86e+00 m s⁻¹, max(|v|) = 2.10e+00 m s⁻¹, max(|w|) = 2.28e-03 m s⁻¹, max(|T|) = 2.99e+01 °C, max(|S|) = 3.98e+01 g kg⁻¹, max(|e|) = 4.24e-03 m² s⁻²
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Simulation is stopping after running for 4.781 minutes.
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Simulation time 60 days equals or exceeds stop time 60 days.
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Recording an animation of longitude_depth_slice_at_latitude_45.0deg to gyre_model_longitude_depth_slice_at_latitude_45.0deg.mp4...
Plotting frame 10 of 61
Plotting frame 20 of 61
Plotting frame 30 of 61
Plotting frame 40 of 61
Plotting frame 50 of 61
Plotting frame 60 of 61
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Recording an animation of horizontal_slice_at_depth_0.0m to gyre_model_horizontal_slice_at_depth_0.0m.mp4...
Plotting frame 10 of 61
Plotting frame 20 of 61
Plotting frame 30 of 61
Plotting frame 40 of 61
Plotting frame 50 of 61
Plotting frame 60 of 61</code></pre><p><video src="gyre_model_longitude_depth_slice_at_latitude_45.0deg.mp4" controls="true" title="Example simulated output (longitude-depth slice)"><a href="gyre_model_longitude_depth_slice_at_latitude_45.0deg.mp4">Example simulated output (longitude-depth slice)</a></video> <video src="gyre_model_horizontal_slice_at_depth_0.0m.mp4" controls="true" title="Example simulated output (horizontal slice)"><a href="gyre_model_horizontal_slice_at_depth_0.0m.mp4">Example simulated output (horizontal slice)</a></video></p><h2 id="API-reference"><a class="docs-heading-anchor" href="#API-reference">API reference</a><a id="API-reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-reference" title="Permalink"></a></h2><ul><li><a href="#GyreInABox.GyreInABox"><code>GyreInABox.GyreInABox</code></a></li><li><a href="#GyreInABox.BarotropicStreamFunction"><code>GyreInABox.BarotropicStreamFunction</code></a></li><li><a href="#GyreInABox.DepthAveraged"><code>GyreInABox.DepthAveraged</code></a></li><li><a href="#GyreInABox.FreeSurfaceFields"><code>GyreInABox.FreeSurfaceFields</code></a></li><li><a href="#GyreInABox.GyreInABoxConfiguration"><code>GyreInABox.GyreInABoxConfiguration</code></a></li><li><a href="#GyreInABox.GyreInABoxParameters"><code>GyreInABox.GyreInABoxParameters</code></a></li><li><a href="#GyreInABox.HorizontalSlice"><code>GyreInABox.HorizontalSlice</code></a></li><li><a href="#GyreInABox.LatitudeDepthSlice"><code>GyreInABox.LatitudeDepthSlice</code></a></li><li><a href="#GyreInABox.LongitudeDepthSlice"><code>GyreInABox.LongitudeDepthSlice</code></a></li><li><a href="#GyreInABox.MOCStreamFunction"><code>GyreInABox.MOCStreamFunction</code></a></li><li><a href="#GyreInABox.add_output_writers!-Tuple{Oceananigans.Simulations.Simulation, Tuple, String}"><code>GyreInABox.add_output_writers!</code></a></li><li><a href="#GyreInABox.add_progress_message_callback!-Union{Tuple{T}, Tuple{Oceananigans.Simulations.Simulation, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.add_progress_message_callback!</code></a></li><li><a href="#GyreInABox.axis_aspect_ratio-Tuple{Any, GyreInABox.AbstractOutput}"><code>GyreInABox.axis_aspect_ratio</code></a></li><li><a href="#GyreInABox.axis_limits-Tuple{GyreInABoxConfiguration, GyreInABox.AbstractOutput}"><code>GyreInABox.axis_limits</code></a></li><li><a href="#GyreInABox.axis_xlabel-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.axis_xlabel</code></a></li><li><a href="#GyreInABox.axis_ylabel-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.axis_ylabel</code></a></li><li><a href="#GyreInABox.bottom_meridional_drag-Tuple{Any, Any, Any, Any, Any, GyreInABoxParameters}"><code>GyreInABox.bottom_meridional_drag</code></a></li><li><a href="#GyreInABox.bottom_zonal_drag-Tuple{Any, Any, Any, Any, Any, GyreInABoxParameters}"><code>GyreInABox.bottom_zonal_drag</code></a></li><li><a href="#GyreInABox.boundary_conditions-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, Oceananigans.Grids.AbstractGrid}} where T"><code>GyreInABox.boundary_conditions</code></a></li><li><a href="#GyreInABox.hyperbolically_spaced_faces-Tuple{Int64, GyreInABoxConfiguration}"><code>GyreInABox.hyperbolically_spaced_faces</code></a></li><li><a href="#GyreInABox.indices-Tuple{GyreInABox.AbstractOutput, Any}"><code>GyreInABox.indices</code></a></li><li><a href="#GyreInABox.initial_salinity-Tuple{Any, Any, Any}"><code>GyreInABox.initial_salinity</code></a></li><li><a href="#GyreInABox.initial_temperature-Tuple{Any, Any, Any}"><code>GyreInABox.initial_temperature</code></a></li><li><a href="#GyreInABox.initialize_model!-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxParameters{T}}} where T"><code>GyreInABox.initialize_model!</code></a></li><li><a href="#GyreInABox.label-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.label</code></a></li><li><a href="#GyreInABox.max_surface_wind_stress-Tuple{GyreInABoxParameters}"><code>GyreInABox.max_surface_wind_stress</code></a></li><li><a href="#GyreInABox.output_filename-Tuple{String, Symbol, String}"><code>GyreInABox.output_filename</code></a></li><li><a href="#GyreInABox.outputs-Tuple{GyreInABox.AbstractOutput, Any}"><code>GyreInABox.outputs</code></a></li><li><a href="#GyreInABox.record_animation-Union{Tuple{T}, Tuple{GyreInABoxConfiguration{T}, GyreInABox.AbstractOutput}} where T"><code>GyreInABox.record_animation</code></a></li><li><a href="#GyreInABox.reference_surface_salinity-Tuple{Any, GyreInABoxParameters}"><code>GyreInABox.reference_surface_salinity</code></a></li><li><a href="#GyreInABox.reference_surface_temperature-Tuple{Any, GyreInABoxParameters}"><code>GyreInABox.reference_surface_temperature</code></a></li><li><a href="#GyreInABox.run_simulation-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.run_simulation</code></a></li><li><a href="#GyreInABox.schedule-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.schedule</code></a></li><li><a href="#GyreInABox.setup_grid-Union{Tuple{GyreInABoxConfiguration{T}}, Tuple{T}} where T"><code>GyreInABox.setup_grid</code></a></li><li><a href="#GyreInABox.setup_model-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.setup_model</code></a></li><li><a href="#GyreInABox.setup_simulation-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.setup_simulation</code></a></li><li><a href="#GyreInABox.sigmoidal_depth_profile-NTuple{5, Any}"><code>GyreInABox.sigmoidal_depth_profile</code></a></li><li><a href="#GyreInABox.surface_salinity_flux-NTuple{6, Any}"><code>GyreInABox.surface_salinity_flux</code></a></li><li><a href="#GyreInABox.surface_temperature_flux-NTuple{6, Any}"><code>GyreInABox.surface_temperature_flux</code></a></li><li><a href="#GyreInABox.unit-Tuple{String}"><code>GyreInABox.unit</code></a></li><li><a href="#GyreInABox.variable_limits-Union{Tuple{T}, Tuple{Tuple{T, T}, Oceananigans.OutputReaders.FieldTimeSeries}} where T"><code>GyreInABox.variable_limits</code></a></li><li><a href="#GyreInABox.zonal_wind_stress-Tuple{Any, Any, Any, GyreInABoxParameters}"><code>GyreInABox.zonal_wind_stress</code></a></li></ul><article><details class="docstring" open="true"><summary id="GyreInABox.GyreInABox"><a class="docstring-binding" href="#GyreInABox.GyreInABox"><code>GyreInABox.GyreInABox</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Oceananigans based model of an ocean gyre in a bounded domain.</p><p><strong>Details</strong></p><p>Model of wind and buoyancy forced ocean gyre adapted from MITgcm documentation <a href="https://mitgcm.readthedocs.io/en/latest/examples/baroclinic_gyre/baroclinic_gyre.html">baroclinic ocean gyre example</a> implemented using Oceananigans (Ramadhan et al. 2020).</p><p>Compared to MITgcm example, beyond the change in the underlying software framework, some key differences in the (default) model configuration are</p><ul><li>The model uses a seawater buoyancy formulation with tracer fields corresponding to salinity and (potential) temperature used to determine the buoyancy using a non-linear (polynomial) equation of state (Roquet et al. 2015).</li><li>A weighted essentially non-oscillatory numerical scheme is used for momentum advection (Silvestri et al. 2024).</li><li>The turbulence closure / parameterization used for small-scale turbulent mixing is a convective adjustment turbulent kinetic energy (CATKE) scheme (Wagner et al. 2025).</li><li>Adaptive time stepping is used based on controlling advective CFL number.</li></ul><ul><li><a href="#GyreInABox.BarotropicStreamFunction"><code>BarotropicStreamFunction</code></a></li><li><a href="#GyreInABox.DepthAveraged"><code>DepthAveraged</code></a></li><li><a href="#GyreInABox.FreeSurfaceFields"><code>FreeSurfaceFields</code></a></li><li><a href="#GyreInABox.GyreInABoxConfiguration"><code>GyreInABoxConfiguration</code></a></li><li><a href="#GyreInABox.GyreInABoxParameters"><code>GyreInABoxParameters</code></a></li><li><a href="#GyreInABox.HorizontalSlice"><code>HorizontalSlice</code></a></li><li><a href="#GyreInABox.LatitudeDepthSlice"><code>LatitudeDepthSlice</code></a></li><li><a href="#GyreInABox.LongitudeDepthSlice"><code>LongitudeDepthSlice</code></a></li><li><a href="#GyreInABox.MOCStreamFunction"><code>MOCStreamFunction</code></a></li><li><a href="#GyreInABox.initialize_model!-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxParameters{T}}} where T"><code>initialize_model!</code></a></li><li><a href="#GyreInABox.record_animation-Union{Tuple{T}, Tuple{GyreInABoxConfiguration{T}, GyreInABox.AbstractOutput}} where T"><code>record_animation</code></a></li><li><a href="#GyreInABox.run_simulation-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><code>run_simulation</code></a></li><li><a href="#GyreInABox.setup_model-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><code>setup_model</code></a></li><li><a href="#GyreInABox.setup_simulation-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxConfiguration{T}}} where T"><code>setup_simulation</code></a></li></ul><p><strong>References</strong></p><ol><li>MITgcm contributors (2025). MITgcm/MITgcm: checkpoint69e (Version checkpoint69e). Zenodo. https://doi.org/10.5281/zenodo.15320163</li><li>Ramadhan, A., Wagner, G., Hill, C., Campin, J. M., Churavy, V., Besard, T., Souza, A., Edelman, A., Ferrari, R. &amp; Marshall, J. (2020). Oceananigans. jl: Fast and friendly geophysical fluid dynamics on GPUs. Journal of Open Source Software, 5(53).</li><li>Roquet, F.; Madec, G.; Brodeau, L. and Nycander, J. (2015). Defining a simplified yet “realistic” equation of state for seawater. Journal of Physical Oceanography 45, 2564-2579.</li><li>Silvestri, S., Wagner, G. L., Campin, J. M., Constantinou, N. C., Hill, C. N.,  Souza, A., &amp; Ferrari, R. (2024). A new WENO-based momentum advection scheme for simulations of ocean mesoscale turbulence. Journal of Advances in Modeling Earth Systems, 16(7), e2023MS004130.</li><li>Wagner, G. L., Hillier, A., Constantinou, N. C., Silvestri, S., Souza, A., Burns, K. J., Hill, C., Campin, J-M., Marshall, J. &amp; Ferrari, R. (2025). Formulation and calibration of CATKE, a one-equation parameterization for microscale ocean mixing. Journal of Advances in Modeling Earth Systems, 17(4), e2024MS004522.</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L1-L44">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.BarotropicStreamFunction"><a class="docstring-binding" href="#GyreInABox.BarotropicStreamFunction"><code>GyreInABox.BarotropicStreamFunction</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct BarotropicStreamFunction{S} &lt;: GyreInABox.AbstractHorizontalOutput{S}</code></pre><p>Barotropic stream function output.</p><p><strong>Details</strong></p><p>Records longitude-latitude fields corresponding to stream function of barotropic velocity - computed here as zonally accumulated - that is cumulative integral with respect to longitude - of depth integrated meridional velocity component:</p><p class="math-container">\[\Psi^B(\lambda, \varphi, t) = 
\int_{\lambda_W}^{\lambda}  \int_{z_B}^{z_S} 
  v(\lambda&#39;, \varphi, z, t)
\,\mathrm{d}z \,\mathrm{d}\lambda&#39;\]</p><p>The outputted field is scaled to be in sverdrup (10⁶ m³ s⁻¹) units.</p><ul><li><code>schedule::Any</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L260">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.DepthAveraged"><a class="docstring-binding" href="#GyreInABox.DepthAveraged"><code>GyreInABox.DepthAveraged</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct DepthAveraged{S} &lt;: GyreInABox.AbstractHorizontalOutput{S}</code></pre><p>Depth and time averaged output.</p><p><strong>Details</strong></p><p>Records horizontal fields corresponding to depth averaged model velocity and tracer fields.</p><ul><li><code>schedule::Any</code>: Schedule to record output at</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L213">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.FreeSurfaceFields"><a class="docstring-binding" href="#GyreInABox.FreeSurfaceFields"><code>GyreInABox.FreeSurfaceFields</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct FreeSurfaceFields{S} &lt;: GyreInABox.AbstractHorizontalOutput{S}</code></pre><p>Free surface fields output.</p><p><strong>Details</strong></p><p>Records two-dimensional free surface (height and barotropic velocity) fields.</p><ul><li><code>schedule::Any</code>: Time interval to record output at / s</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L195">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.GyreInABoxConfiguration"><a class="docstring-binding" href="#GyreInABox.GyreInABoxConfiguration"><code>GyreInABox.GyreInABoxConfiguration</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct GyreInABoxConfiguration{T, A&lt;:Oceananigans.Architectures.AbstractArchitecture, EOS, MA&lt;:Oceananigans.Advection.AbstractAdvectionScheme, C&lt;:Oceananigans.Coriolis.AbstractRotation, TC&lt;:Oceananigans.TurbulenceClosures.AbstractTurbulenceClosure}</code></pre><p>Configuration for ocean gyre model.</p><p><strong>Details</strong></p><p>Variables defining overall configuration of model such as spatial and temporal domains and corresponding discretizations, numerical schemes to use for different model components and outputs to record.</p><p>Compared to the <code>GyreInABoxParameters</code> the fields here mostly have discrete values and would not be typically calibrated to data.</p><ul><li><p><code>architecture::Oceananigans.Architectures.AbstractArchitecture</code>: Computational architecture to run simulation on</p></li><li><p><code>momentum_advection::Oceananigans.Advection.AbstractAdvectionScheme</code>: Momentum advection scheme</p></li><li><p><code>equation_of_state::Any</code>: Buoyancy equation of state</p></li><li><p><code>coriolis::Oceananigans.Coriolis.AbstractRotation</code>: Coriolis force</p></li><li><p><code>closure::Oceananigans.TurbulenceClosures.AbstractTurbulenceClosure</code>: Turbulence closure</p></li><li><p><code>tracers::Tuple</code>: Tracer variables - needs to match turbulence closure and buoyancy formulation.</p></li><li><p><code>grid_size::Tuple</code>: Grid dimensions in longitude, latitude and depth</p></li><li><p><code>longitude_interval::Tuple</code>: Extent of spatial domain in longitude / °</p></li><li><p><code>latitude_interval::Tuple</code>: Extent of spatial domain in latitude / °</p></li><li><p><code>depth_interval::Tuple</code>: Extent of spatial domain in depth / m</p></li><li><p><code>depth_stretching_factor::Any</code>: Stretching factor for hyperbolic spaced depth grid</p></li><li><p><code>halo_size::Tuple</code>: Dimensions of grid halo region in longitude, latitude and depth</p></li><li><p><code>simulation_time::Any</code>: Time to simulate for / s</p></li><li><p><code>initial_timestep::Any</code>: Initial time step to use / s</p></li><li><p><code>maximum_timestep::Any</code>: Maximum time step to use in time step adaptation / s</p></li><li><p><code>output_filename::String</code>: Stem of output file names</p></li><li><p><code>progress_message_interval::Int64</code>: Iteration interval between progress messages</p></li><li><p><code>target_cfl::Any</code>: Target (advective) CFL number for time stepping wizard</p></li><li><p><code>wizard_update_interval::Int64</code>: Update (iteration) interval for time stepping wizard</p></li><li><p><code>wizard_max_change::Any</code>: Maximum relative time step change in each wizard update</p></li><li><p><code>output_types::Tuple</code>: Output types to record during simulation</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L288">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.GyreInABoxParameters"><a class="docstring-binding" href="#GyreInABox.GyreInABoxParameters"><code>GyreInABox.GyreInABoxParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct GyreInABoxParameters{T}</code></pre><p>Parameters for ocean gyre model.</p><p><strong>Details</strong></p><p>Real-valued parameters of model controlling initial and boundary conditions.</p><ul><li><p><code>u_10::Any</code>: Average zonal wind velocity 10 meters above the ocean / m s⁻¹</p></li><li><p><code>c_d::Any</code>: Dimensionless drag coefficient</p></li><li><p><code>ρ_a::Any</code>: Approximate average density of air at sea-level, kg m⁻³</p></li><li><p><code>φ_u::Any</code>: Latitude offset for zonal wind stress variation / °</p></li><li><p><code>Lφ_u::Any</code>: Latitude scale for zonal wind stress variation / °</p></li><li><p><code>φ_S::Any</code>: Latitude offset for reference salinity variation / °</p></li><li><p><code>Lφ_S::Any</code>: Latitude scale for reference salinity variation / °</p></li><li><p><code>μ::Any</code>: Bottom drag damping / m s⁻¹</p></li><li><p><code>ρ_s::Any</code>: Sea water density / kg m⁻³</p></li><li><p><code>c_s::Any</code>: Sea water specific heat capacity / J K⁻¹ kg⁻¹</p></li><li><p><code>T_polar::Any</code>: Reference polar surface temperature / °C</p></li><li><p><code>T_equatorial::Any</code>: Reference equatorial surface temperature / °C</p></li><li><p><code>T_abyssal::Any</code>: Reference abyssal ocean temperature / °C</p></li><li><p><code>z_thermocline::Any</code>: Thermocline reference depth / m</p></li><li><p><code>ℓ_thermocline::Any</code>: Thermocline reference length scale / m</p></li><li><p><code>z_halocline::Any</code>: Halocline reference depth / m</p></li><li><p><code>ℓ_halocline::Any</code>: Halocline reference length scale / m</p></li><li><p><code>S_0::Any</code>: Salinity reference level / g kg⁻¹</p></li><li><p><code>ΔS::Any</code>: Salinity latitude variation amplitude / g kg⁻¹</p></li><li><p><code>τ_S::Any</code>: Salinity restoring timescale / s</p></li><li><p><code>τ_T::Any</code>: Temperature restoring timescale / s</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L66">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.HorizontalSlice"><a class="docstring-binding" href="#GyreInABox.HorizontalSlice"><code>GyreInABox.HorizontalSlice</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct HorizontalSlice{S, T} &lt;: GyreInABox.AbstractHorizontalOutput{S}</code></pre><p>Horizontal (latitude-longitude) slice output.</p><p><strong>Details</strong></p><p>Records horizontal slices through model velocity and tracer fields at specified depth.</p><ul><li><p><code>depth::Any</code>: Depth of slice / m</p></li><li><p><code>schedule::Any</code>: Schedule to record output at</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L133">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.LatitudeDepthSlice"><a class="docstring-binding" href="#GyreInABox.LatitudeDepthSlice"><code>GyreInABox.LatitudeDepthSlice</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct LatitudeDepthSlice{S, T} &lt;: GyreInABox.AbstractLatitudeDepthOutput{S}</code></pre><p>Vertical (latitude-depth) slice output.</p><p><strong>Details</strong></p><p>Records vertical slices through model velocity and tracer fields at specified longitude.</p><ul><li><p><code>longitude::Any</code>: Longitude of slice / °</p></li><li><p><code>schedule::Any</code>: Schedule to record output at</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L173">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.LongitudeDepthSlice"><a class="docstring-binding" href="#GyreInABox.LongitudeDepthSlice"><code>GyreInABox.LongitudeDepthSlice</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct LongitudeDepthSlice{S, T} &lt;: GyreInABox.AbstractVerticalOutput{S}</code></pre><p>Vertical (longitude-depth) slice output.</p><p><strong>Details</strong></p><p>Records vertical slices through model velocity and tracer fields at specified latitude.</p><ul><li><p><code>latitude::Any</code>: Latitude of slice / °</p></li><li><p><code>schedule::Any</code>: Schedule to record output at</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L153">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.MOCStreamFunction"><a class="docstring-binding" href="#GyreInABox.MOCStreamFunction"><code>GyreInABox.MOCStreamFunction</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct MOCStreamFunction{S} &lt;: GyreInABox.AbstractLatitudeDepthOutput{S}</code></pre><p>Meridional overturning circulation (MOC) stream function output.</p><p><strong>Details</strong></p><p>Records latitude-depth fields corresponding to stream function of meridional overturning circulation - computed here as vertically accumulated - that is cumulative vertical integral with respect to depth - of zonally integrated meridional velocity component:</p><p class="math-container">\[\Psi(\varphi, z, t) = 
\int_{0}^z \int_{\lambda_W}^{\lambda_E} 
  v(\lambda, \varphi, z&#39;, t)
\,\mathrm{d}\lambda \,\mathrm{d}z&#39;\]</p><p>The outputted field is scaled to be in sverdrup (10⁶ m³ s⁻¹) units.</p><ul><li><code>schedule::Any</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L232">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.add_output_writers!-Tuple{Oceananigans.Simulations.Simulation, Tuple, String}"><a class="docstring-binding" href="#GyreInABox.add_output_writers!-Tuple{Oceananigans.Simulations.Simulation, Tuple, String}"><code>GyreInABox.add_output_writers!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Register output writers for output types specified in <code>configuration</code> in <code>simulation</code>.</p><pre><code class="language-julia hljs">add_output_writers!(
    simulation,
    output_types,
    output_filename_stem
)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L733-L737">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.add_progress_message_callback!-Union{Tuple{T}, Tuple{Oceananigans.Simulations.Simulation, GyreInABoxConfiguration{T}}} where T"><a class="docstring-binding" href="#GyreInABox.add_progress_message_callback!-Union{Tuple{T}, Tuple{Oceananigans.Simulations.Simulation, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.add_progress_message_callback!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Add callback for progress updates as configured in <code>configuration</code> in <code>simulation</code>.</p><pre><code class="language-julia hljs">add_progress_message_callback!(simulation, configuration)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L767-L771">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.axis_aspect_ratio-Tuple{Any, GyreInABox.AbstractOutput}"><a class="docstring-binding" href="#GyreInABox.axis_aspect_ratio-Tuple{Any, GyreInABox.AbstractOutput}"><code>GyreInABox.axis_aspect_ratio</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Aspect ratio for field heatmaps.</p><pre><code class="language-julia hljs">axis_aspect_ratio(
    configuration,
    _::GyreInABox.AbstractOutput
) -&gt; Makie.AxisAspect
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L870-L874">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.axis_limits-Tuple{GyreInABoxConfiguration, GyreInABox.AbstractOutput}"><a class="docstring-binding" href="#GyreInABox.axis_limits-Tuple{GyreInABoxConfiguration, GyreInABox.AbstractOutput}"><code>GyreInABox.axis_limits</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Axis limits for field heatmaps.</p><pre><code class="language-julia hljs">axis_limits(
    configuration::GyreInABoxConfiguration,
    _::GyreInABox.AbstractOutput
) -&gt; Tuple{Tuple, Tuple}
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L881-L885">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.axis_xlabel-Tuple{GyreInABox.AbstractOutput}"><a class="docstring-binding" href="#GyreInABox.axis_xlabel-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.axis_xlabel</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Label for horizontal axis for field heatmaps.</p><pre><code class="language-julia hljs">axis_xlabel(_::GyreInABox.AbstractOutput) -&gt; String
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L848-L852">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.axis_ylabel-Tuple{GyreInABox.AbstractOutput}"><a class="docstring-binding" href="#GyreInABox.axis_ylabel-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.axis_ylabel</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Label for vertical axis for field heatmaps.</p><pre><code class="language-julia hljs">axis_ylabel(_::GyreInABox.AbstractOutput) -&gt; String
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L859-L863">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.bottom_meridional_drag-Tuple{Any, Any, Any, Any, Any, GyreInABoxParameters}"><a class="docstring-binding" href="#GyreInABox.bottom_meridional_drag-Tuple{Any, Any, Any, Any, Any, GyreInABoxParameters}"><code>GyreInABox.bottom_meridional_drag</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Bottom surface drag on meridional velocity component in m² s⁻².</p><pre><code class="language-julia hljs">bottom_meridional_drag(i, j, grid, clock, model_fields, p)
</code></pre><p><strong>Details</strong></p><p>Computes bottom surface drag at horizontal grid indices <code>i</code> and <code>j</code> for grid <code>grid</code> and model clock <code>clock</code>, with current model fields <code>model_fields</code> and parameters <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L413-L422">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.bottom_zonal_drag-Tuple{Any, Any, Any, Any, Any, GyreInABoxParameters}"><a class="docstring-binding" href="#GyreInABox.bottom_zonal_drag-Tuple{Any, Any, Any, Any, Any, GyreInABoxParameters}"><code>GyreInABox.bottom_zonal_drag</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Bottom surface drag on zonal velocity component in m² s⁻².</p><pre><code class="language-julia hljs">bottom_zonal_drag(i, j, grid, clock, model_fields, p)
</code></pre><p><strong>Details</strong></p><p>Computes bottom surface drag at horizontal grid indices <code>i</code> and <code>j</code> for grid <code>grid</code> and model clock <code>clock</code>, with current model fields <code>model_fields</code> and parameters <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L397-L406">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.boundary_conditions-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, Oceananigans.Grids.AbstractGrid}} where T"><a class="docstring-binding" href="#GyreInABox.boundary_conditions-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, Oceananigans.Grids.AbstractGrid}} where T"><code>GyreInABox.boundary_conditions</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Construct named tuple of boundary conditions for model given parameters <code>parameters</code>.</p><pre><code class="language-julia hljs">boundary_conditions(parameters, grid)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L482-L486">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.hyperbolically_spaced_faces-Tuple{Int64, GyreInABoxConfiguration}"><a class="docstring-binding" href="#GyreInABox.hyperbolically_spaced_faces-Tuple{Int64, GyreInABoxConfiguration}"><code>GyreInABox.hyperbolically_spaced_faces</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Compute hyperbolically spaced depth grid face coordinate at index <code>k</code> given model configuration <code>configuration</code>.</p><pre><code class="language-julia hljs">hyperbolically_spaced_faces(k, configuration)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L518-L523">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.indices-Tuple{GyreInABox.AbstractOutput, Any}"><a class="docstring-binding" href="#GyreInABox.indices-Tuple{GyreInABox.AbstractOutput, Any}"><code>GyreInABox.indices</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Spatial grid indices output type records fields at.</p><pre><code class="language-julia hljs">indices(
    _::GyreInABox.AbstractOutput,
    grid
) -&gt; Tuple{Colon, Colon, Any}
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L654-L658">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.initial_salinity-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#GyreInABox.initial_salinity-Tuple{Any, Any, Any}"><code>GyreInABox.initial_salinity</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Initial salinity at latitude <code>φ</code> and depth <code>z</code> with parameters <code>p</code>.</p><pre><code class="language-julia hljs">initial_salinity(φ, z, p)
</code></pre><p><strong>Details</strong></p><p>Computes a latitude and depth dependent initial salinity with halocline like profile which smoothly varies from a latitude dependent surface salinity to a constant deep ocean salinity with a sigmoidal profile.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L601-L611">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.initial_temperature-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#GyreInABox.initial_temperature-Tuple{Any, Any, Any}"><code>GyreInABox.initial_temperature</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Initial temperature at latitude <code>φ</code> and depth <code>z</code> with parameters <code>p</code>.</p><pre><code class="language-julia hljs">initial_temperature(φ, z, p)
</code></pre><p><strong>Details</strong></p><p>Computes a latitude and depth dependent initial temperature with thermocline like profile which smoothly varies from a latitude dependent surface temperature to a constant deep ocean temperature with a sigmoidal profile.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L585-L595">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.initialize_model!-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxParameters{T}}} where T"><a class="docstring-binding" href="#GyreInABox.initialize_model!-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxParameters{T}}} where T"><code>GyreInABox.initialize_model!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Initialize state of ocean gyre model <code>model</code> with parameters <code>parameters</code>.</p><pre><code class="language-julia hljs">initialize_model!(model, parameters)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L617-L621">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.label-Tuple{GyreInABox.AbstractOutput}"><a class="docstring-binding" href="#GyreInABox.label-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.label</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Symbol label for output type to use in naming output file and registering output writer.</p><pre><code class="language-julia hljs">label(_::GyreInABox.AbstractOutput) -&gt; Symbol
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L635-L639">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.max_surface_wind_stress-Tuple{GyreInABoxParameters}"><a class="docstring-binding" href="#GyreInABox.max_surface_wind_stress-Tuple{GyreInABoxParameters}"><code>GyreInABox.max_surface_wind_stress</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Maximal surface wind stress given parameters <code>p</code> in m² s⁻².</p><pre><code class="language-julia hljs">max_surface_wind_stress(p)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L459-L463">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.output_filename-Tuple{String, Symbol, String}"><a class="docstring-binding" href="#GyreInABox.output_filename-Tuple{String, Symbol, String}"><code>GyreInABox.output_filename</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Filename to record outputs to.</p><pre><code class="language-julia hljs">output_filename(
    stem::String,
    label::Symbol,
    extension::String
) -&gt; String
</code></pre><p><strong>Details</strong></p><p>For an output type <code>output</code> a label computed using <code>label</code> function is appended on to <code>stem</code><code>and file extension is specified by</code>extension` added.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L714-L723">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.outputs-Tuple{GyreInABox.AbstractOutput, Any}"><a class="docstring-binding" href="#GyreInABox.outputs-Tuple{GyreInABox.AbstractOutput, Any}"><code>GyreInABox.outputs</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Named tuple of output variables (fields) to record for output type.</p><pre><code class="language-julia hljs">outputs(_::GyreInABox.AbstractOutput, model) -&gt; Any
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L671-L675">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.record_animation-Union{Tuple{T}, Tuple{GyreInABoxConfiguration{T}, GyreInABox.AbstractOutput}} where T"><a class="docstring-binding" href="#GyreInABox.record_animation-Union{Tuple{T}, Tuple{GyreInABoxConfiguration{T}, GyreInABox.AbstractOutput}} where T"><code>GyreInABox.record_animation</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Record an animation of fields recorded as model output.</p><pre><code class="language-julia hljs">record_animation(
    configuration,
    output_type;
    frame_rate,
    max_columns,
    axis_width,
    axis_height,
    title_height,
    exclude_variables,
    plot_configuration_overrides
)
</code></pre><p><strong>Details</strong></p><p>Generates and record to file an animation of model outputs for a model configuration <code>configuration</code> and output type <code>output_type</code>. The simulation must have already been run for this configuration and with specified output type active.</p><p>Animation is recorded with a frame rate of <code>frame_rate</code> frames per second, with fields arranged on a grid with a maximum of <code>max_columns</code> columns, with the axis for each field heatmap of size <code>(axis_width, axis_height)</code> in pixels and a further <code>title_height</code> pixels allowed at the top of the figure for a title showing the simulation time.</p><p>By default the plot configurations for each field variable are taken from the <code>GyreInABox.DEFAULT_VARIABLE_PLOT_CONFIGURATIONS</code> dictionary but these can be overridden by passing a dictionary <code>plot_configuration_overrides</code> with keys corresponding to the variable names to override. Specific variables to exclude from plot can be specified in a tuple of variable names <code>exclude_variables</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L969-L990">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.reference_surface_salinity-Tuple{Any, GyreInABoxParameters}"><a class="docstring-binding" href="#GyreInABox.reference_surface_salinity-Tuple{Any, GyreInABoxParameters}"><code>GyreInABox.reference_surface_salinity</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Reference surface salinity for restoring surface salinity boundary condition as function of latitude <code>φ</code> and parameters <code>p</code>.</p><pre><code class="language-julia hljs">reference_surface_salinity(φ, p)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L367-L372">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.reference_surface_temperature-Tuple{Any, GyreInABoxParameters}"><a class="docstring-binding" href="#GyreInABox.reference_surface_temperature-Tuple{Any, GyreInABoxParameters}"><code>GyreInABox.reference_surface_temperature</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Reference surface temperature for restoring surface temperature boundary condition as function of latitude <code>φ</code><code>and parameters</code>p`.</p><pre><code class="language-julia hljs">reference_surface_temperature(φ, p)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L429-L434">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.run_simulation-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><a class="docstring-binding" href="#GyreInABox.run_simulation-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.run_simulation</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Setup and initialize model then setup and run simulation with parameters <code>parameters</code> and configuration <code>configuration</code>.</p><pre><code class="language-julia hljs">run_simulation(parameters, configuration)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L832-L837">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.schedule-Tuple{GyreInABox.AbstractOutput}"><a class="docstring-binding" href="#GyreInABox.schedule-Tuple{GyreInABox.AbstractOutput}"><code>GyreInABox.schedule</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Time schedule to record output type at.</p><pre><code class="language-julia hljs">schedule(output::GyreInABox.AbstractOutput) -&gt; Any
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L707-L711">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.setup_grid-Union{Tuple{GyreInABoxConfiguration{T}}, Tuple{T}} where T"><a class="docstring-binding" href="#GyreInABox.setup_grid-Union{Tuple{GyreInABoxConfiguration{T}}, Tuple{T}} where T"><code>GyreInABox.setup_grid</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Set up ocean gyre model grid with configuration <code>configuration</code> optionally overriding architecture in <code>configuration</code> with <code>architecture</code>.</p><pre><code class="language-julia hljs">setup_grid(configuration; architecture)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L534-L539">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.setup_model-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><a class="docstring-binding" href="#GyreInABox.setup_model-Union{Tuple{T}, Tuple{GyreInABoxParameters{T}, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.setup_model</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Set up ocean gyre model with parameters <code>parameters</code> and configuration <code>configuration</code>.</p><pre><code class="language-julia hljs">setup_model(parameters, configuration)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L554-L558">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.setup_simulation-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxConfiguration{T}}} where T"><a class="docstring-binding" href="#GyreInABox.setup_simulation-Union{Tuple{T}, Tuple{Oceananigans.AbstractModel, GyreInABoxConfiguration{T}}} where T"><code>GyreInABox.setup_simulation</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Set up simulation for model <code>model</code> with configuration <code>configuration</code>.</p><pre><code class="language-julia hljs">setup_simulation(model, configuration)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L803-L807">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.sigmoidal_depth_profile-NTuple{5, Any}"><a class="docstring-binding" href="#GyreInABox.sigmoidal_depth_profile-NTuple{5, Any}"><code>GyreInABox.sigmoidal_depth_profile</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Sigmoidal depth profile which smoothly varies from <code>f_top</code> at <code>z = 0</code> to <code>f_bottom</code> at <code>z = -depth</code> with length scale for smooth transition <code>ℓ</code> and offset for midpoint of smooth transition <code>z_0</code>.</p><pre><code class="language-julia hljs">sigmoidal_depth_profile(z, z_0, ℓ, f_bottom, f_top)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L574-L580">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.surface_salinity_flux-NTuple{6, Any}"><a class="docstring-binding" href="#GyreInABox.surface_salinity_flux-NTuple{6, Any}"><code>GyreInABox.surface_salinity_flux</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Surface salinity flux in g kg⁻¹ m s⁻¹.</p><pre><code class="language-julia hljs">surface_salinity_flux(
    i,
    j,
    grid,
    clock,
    model_fields,
    parameters_and_Δz
)
</code></pre><p><strong>Details</strong></p><p>Relaxation boundary condition that restores surface salinity to latitude dependent profile determined by <code>reference_surface_salinity</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L377-L386">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.surface_temperature_flux-NTuple{6, Any}"><a class="docstring-binding" href="#GyreInABox.surface_temperature_flux-NTuple{6, Any}"><code>GyreInABox.surface_temperature_flux</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Surface temperature flux in  K m s⁻¹.</p><pre><code class="language-julia hljs">surface_temperature_flux(
    i,
    j,
    grid,
    clock,
    model_fields,
    parameters_and_Δz
)
</code></pre><p><strong>Details</strong></p><p>Relaxation boundary condition that restores surface temperature to latitude dependent profile determined by <code>reference_surface_temperature</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L439-L448">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.unit-Tuple{String}"><a class="docstring-binding" href="#GyreInABox.unit-Tuple{String}"><code>GyreInABox.unit</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Get unit associated with a variable.</p><pre><code class="language-julia hljs">unit(variable_name)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L961-L965">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.variable_limits-Union{Tuple{T}, Tuple{Tuple{T, T}, Oceananigans.OutputReaders.FieldTimeSeries}} where T"><a class="docstring-binding" href="#GyreInABox.variable_limits-Union{Tuple{T}, Tuple{Tuple{T, T}, Oceananigans.OutputReaders.FieldTimeSeries}} where T"><code>GyreInABox.variable_limits</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Variable value limits for field color mapping.</p><pre><code class="language-julia hljs">variable_limits(
    limits::Tuple{T, T},
    _::Oceananigans.OutputReaders.FieldTimeSeries
) -&gt; Tuple{T, T} where T
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L903-L907">source</a></section></details></article><article><details class="docstring" open="true"><summary id="GyreInABox.zonal_wind_stress-Tuple{Any, Any, Any, GyreInABoxParameters}"><a class="docstring-binding" href="#GyreInABox.zonal_wind_stress-Tuple{Any, Any, Any, GyreInABoxParameters}"><code>GyreInABox.zonal_wind_stress</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Zonal wind stress applied as surface (flux) boundary condition to velocity field.</p><pre><code class="language-julia hljs">zonal_wind_stress(λ, φ, t, p)
</code></pre><p><strong>Details</strong></p><p>Computes wind stress in zonal direction at longitude <code>λ</code> and latitude <code>φ</code> (both in degrees), time <code>t</code> and with model parameters <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aria-verify/GyreInABox.jl/blob/ec39d11dc1f336e0d21a3b3e20765bcd98de9091/src/GyreInABox.jl#L468-L477">source</a></section></details></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 5 December 2025 16:38">Friday 5 December 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
